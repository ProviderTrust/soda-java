
test {
//    onlyIf({true})
    useTestNG() {
        if(project.hasProperty("testGroups"))
            includeGroups project.getProperty("testGroups")

        excludeGroups 'manual'

    }


    enableAssertions = true
    
    ignoreFailures = true

    minHeapSize = "128m"
    maxHeapSize = "2048m"

    jvmArgs '-Duser.timezone=Etc/UTC'

    testLogging {
        outputs.upToDateWhen {false} // Always generate report immediately
        events "passed", "skipped", "failed", "standardOut", "standardError"
    }

    options {
//        listeners << 'org.uncommons.reportng.HTMLReporter'
        listeners << 'org.uncommons.reportng.JUnitXMLReporter'
        listeners << 'org.testng.reporters.XMLReporter'
    }
}
